---
title: "Two-Collection Layout"
description: "Learn how to set up and manage multiple documentation collections in CelestialDocs for different content types and audiences."
navLabel: "Two Collections"
navIcon: "ğŸ“š"
---

One of CelestialDocs' most powerful features is its ability to host multiple documentation collections in a single project. This pattern is perfect when you need to maintain separate documentation sets with different tones, structures, or purposes.

## Why Multiple Collections?

Multiple collections let you:

- **Separate audiences** - User docs vs developer docs
- **Different tones** - Serious documentation vs playful examples
- **Distinct purposes** - Main docs vs API reference vs tutorials
- **Independent navigation** - Each collection has its own sidebar structure
- **Shared infrastructure** - One build, one deployment, one codebase

## Real-World Examples

### Example 1: Main Docs + API Reference

```
content/
â”œâ”€â”€ docs/          # User-facing documentation
â”‚   â”œâ”€â”€ getting-started/
â”‚   â”œâ”€â”€ guides/
â”‚   â””â”€â”€ tutorials/
â””â”€â”€ api/           # Technical API reference
    â”œâ”€â”€ authentication/
    â”œâ”€â”€ endpoints/
    â””â”€â”€ webhooks/
```

### Example 2: User Guides + Developer Docs

```
content/
â”œâ”€â”€ users/         # End-user documentation
â”‚   â”œâ”€â”€ installation/
â”‚   â”œâ”€â”€ features/
â”‚   â””â”€â”€ faq/
â””â”€â”€ developers/    # Developer documentation
    â”œâ”€â”€ architecture/
    â”œâ”€â”€ contributing/
    â””â”€â”€ api/
```

### Example 3: Serious + Fun (Like CelestialDocs!)

```
content/
â”œâ”€â”€ docs/          # Professional documentation
â”‚   â”œâ”€â”€ getting-started/
â”‚   â”œâ”€â”€ configuration/
â”‚   â””â”€â”€ features/
â””â”€â”€ funnydocs/     # Humorous examples
    â”œâ”€â”€ getting-started.md
    â”œâ”€â”€ concepts.md
    â””â”€â”€ deployment.md
```

## Setting Up Two Collections

Let's walk through setting up a two-collection layout from scratch.

### Step 1: Configure Content Collections

Edit `src/content.config.ts` to define your collections:

```typescript
import { defineCollection, z } from 'astro:content';
import { docsSchema } from '@astrojs/starlight/schema';

// Define your collections
const docs = defineCollection({
  type: 'content',
  schema: docsSchema(),
});

const api = defineCollection({
  type: 'content',
  schema: docsSchema(),
});

export const collections = {
  docs,
  api,
};
```

### Step 2: Configure Content Systems

Edit `data/config.ts` to register your collections:

```typescript
export const CONTENT: ContentConfig = {
  systems: [
    {
      id: 'docs',
      dir: 'docs',
      defaultDocRedirect: '/docs/getting-started',
      route: 'docs',
    },
    {
      id: 'api',
      dir: 'api',
      defaultDocRedirect: '/api/overview',
      route: 'api',
    },
  ],
};
```

This configuration:

- Creates two content systems: `docs` and `api`
- Maps them to folders in `content/`
- Sets up URL routes: `/docs/*` and `/api/*`
- Defines default redirects for each collection

### Step 3: Create Content Directories

Create the folder structure:

```bash
mkdir -p content/docs
mkdir -p content/api
```

### Step 4: Configure Navigation

Add sidebar navigation for both collections in `data/config.ts`:

```typescript
export const SIDEBAR_NAVIGATION: SidebarNavigation = {
  // Main documentation navigation
  docs: {
    defaultTab: {
      label: "Documentation",
      icon: "document",
    },
    groups: [
      {
        id: "getting-started",
        label: "Getting Started",
        icon: "ğŸš€",
        entries: [
          { slug: "getting-started/introduction" },
          { slug: "getting-started/installation" },
        ],
      },
      {
        id: "guides",
        label: "Guides",
        icon: "ğŸ“–",
        autoGenerated: true,
      },
    ],
  },

  // API reference navigation
  api: {
    defaultTab: {
      label: "API Reference",
      icon: "code",
    },
    groups: [
      {
        id: "overview",
        label: "Overview",
        icon: "ğŸ“‹",
        entries: [
          { slug: "overview" },
          { slug: "authentication" },
        ],
      },
      {
        id: "endpoints",
        label: "Endpoints",
        icon: "ğŸ”Œ",
        autoGenerated: true,
      },
    ],
  },
};
```

### Step 5: Update Header Navigation

Add links to both collections in the header:

```typescript
export const HEADER_NAV_ITEMS: HeaderNavItem[] = [
  {
    label: "Documentation",
    href: "/docs/getting-started",
  },
  {
    label: "API Reference",
    href: "/api/overview",
  },
  {
    label: "GitHub",
    href: "https://github.com/yourusername/yourproject",
    external: true,
  },
];
```

### Step 6: Create Content

Create your first pages:

```markdown
<!-- content/docs/getting-started/introduction.md -->
---
title: "Introduction"
description: "Welcome to our documentation"
---

# Introduction

Welcome to the main documentation!
```

```markdown
<!-- content/api/overview.md -->
---
title: "API Overview"
description: "Overview of our API"
---

# API Overview

Welcome to the API reference!
```

## Complete Configuration Example

Here's a complete working example for a two-collection setup:

```typescript
// data/config.ts

export const SITE: SiteConfig = {
  website: "https://yourdocs.com",
  author: "Your Name",
  repo: "https://github.com/yourusername/yourproject",
  title: "Your Project",
  description: "Documentation and API reference",
  image: "/og-image.png",
};

export const CONTENT: ContentConfig = {
  systems: [
    {
      id: 'docs',
      dir: 'docs',
      defaultDocRedirect: '/docs/introduction',
      route: 'docs',
    },
    {
      id: 'api',
      dir: 'api',
      defaultDocRedirect: '/api/overview',
      route: 'api',
    },
  ],
};

export const HEADER_NAV_ITEMS: HeaderNavItem[] = [
  {
    label: "Docs",
    href: "/docs/introduction",
  },
  {
    label: "API",
    href: "/api/overview",
  },
];

export const SIDEBAR_NAVIGATION: SidebarNavigation = {
  docs: {
    defaultTab: {
      label: "Documentation",
      icon: "document",
    },
    groups: [
      {
        id: "getting-started",
        label: "Getting Started",
        icon: "ğŸš€",
        autoGenerated: true,
      },
      {
        id: "guides",
        label: "Guides",
        icon: "ğŸ“–",
        autoGenerated: true,
      },
    ],
  },

  api: {
    defaultTab: {
      label: "API Reference",
      icon: "code",
    },
    groups: [
      {
        id: "authentication",
        label: "Authentication",
        icon: "ğŸ”",
        autoGenerated: true,
      },
      {
        id: "endpoints",
        label: "Endpoints",
        icon: "ğŸ”Œ",
        autoGenerated: true,
      },
    ],
  },
};
```

## Navigation Between Collections

### Using Header Navigation

The header is the primary way users switch between collections:

```typescript
export const HEADER_NAV_ITEMS: HeaderNavItem[] = [
  { label: "Docs", href: "/docs/introduction" },
  { label: "API", href: "/api/overview" },
  { label: "Blog", href: "/blog" },
];
```

### Cross-Collection Links

Link between collections in your content:

```markdown
For API details, see the [API Reference](/api/overview).

For usage examples, check the [User Guide](/docs/guides/examples).
```

### Collection Switcher

You can create a custom collection switcher component:

```astro
---
// src/components/CollectionSwitcher.astro
const collections = [
  { name: 'Documentation', href: '/docs/introduction' },
  { name: 'API Reference', href: '/api/overview' },
];
---

<div class="collection-switcher">
  {collections.map(col => (
    <a href={col.href} class="collection-link">
      {col.name}
    </a>
  ))}
</div>
```

## Styling Different Collections

### Collection-Specific Styles

Apply different styles to each collection:

```css
/* For docs collection */
[data-collection="docs"] {
  --accent-color: #3b82f6;
}

/* For api collection */
[data-collection="api"] {
  --accent-color: #10b981;
}
```

### Collection-Specific Layouts

Use different layouts for different collections:

```astro
---
// src/pages/[...slug].astro
const collection = Astro.params.slug?.startsWith('api') ? 'api' : 'docs';
const Layout = collection === 'api' ? ApiLayout : DocsLayout;
---

<Layout>
  <slot />
</Layout>
```

## Best Practices

### Keep Collections Focused

Each collection should have a clear purpose:

âœ… **Good:**

- `docs` - User-facing documentation
- `api` - Technical API reference
- `tutorials` - Step-by-step guides

âŒ **Avoid:**

- `misc` - Unclear purpose
- `everything` - Too broad

### Use Consistent Structure

While collections can differ, maintain some consistency:

- Similar frontmatter fields
- Consistent heading hierarchy
- Similar navigation patterns

### Independent Navigation

Each collection should have its own logical navigation structure. Don't try to mirror structures across collections.

### Clear Collection Names

Use descriptive names that make the purpose obvious:

âœ… **Good:** `docs`, `api`, `tutorials`, `guides`
âŒ **Avoid:** `col1`, `stuff`, `other`

## Common Patterns

### Main Docs + API Reference

Perfect for software projects:

```
docs/     â†’ User guides, tutorials, concepts
api/      â†’ Technical API documentation
```

### User Docs + Developer Docs

Separate audiences:

```
users/      â†’ End-user documentation
developers/ â†’ Developer documentation
```

### Docs + Examples + Blog

Multiple content types:

```
docs/     â†’ Main documentation
examples/ â†’ Code examples and demos
blog/     â†’ Blog posts and updates
```

## Troubleshooting

### Collection Not Found

- Verify the collection is defined in `src/content.config.ts`
- Check that it's registered in `CONTENT.systems`
- Ensure the directory exists in `content/`

### Navigation Not Showing

- Check that `SIDEBAR_NAVIGATION` has an entry for your collection
- Verify the collection ID matches in all configurations
- Restart the dev server after config changes

### Wrong Routes

- Verify the `route` field in `CONTENT.systems`
- Check that it doesn't conflict with other routes
- Ensure the route matches your URL structure

### Content Not Building

- Run `npm run check` to see TypeScript errors
- Verify all files have valid frontmatter
- Check that collection schemas match your content

## Next Steps

Now that you understand two-collection layouts, explore:

- [Custom Landing Pages](/docs/patterns/custom-landing) - Create custom home pages
- [Hybrid Groups](/docs/patterns/hybrid-groups) - Mix manual and auto-generated navigation
- [Multiple Collections Feature](/docs/features/multiple-collections) - Learn more about collections

Multiple collections unlock powerful organizational patterns for your documentation! ğŸ“š
