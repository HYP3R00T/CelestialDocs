---
import { Icon } from "astro-icon/components";

import { Button } from "@/components/ui/button";
import type { ThemeToggleProps } from "@/lib/types";

// Component accepts no props
Astro.props as ThemeToggleProps;
---

<Button
    id="theme-toggle"
    type="button"
    variant="ghost"
    size="icon"
    className="relative"
    aria-label="Toggle theme"
>
    <Icon name="theme" class="size-5 transition-transform duration-200 dark:rotate-180" />
    <span class="sr-only">Toggle theme</span>
</Button>

<script>
    import { initTheme } from "@/lib/theme";

    initTheme();
    document.addEventListener("astro:after-swap", initTheme);
</script>
